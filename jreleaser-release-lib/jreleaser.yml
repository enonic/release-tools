project:
  name: {{ env.PROJECT_GROUP_ID }}-{{ env.PROJECT_ARTIFACT_ID }}-{{ env.PROJECT_VERSION }}
  version: {{env.PROJECT_VERSION}}

# https://jreleaser.org/guide/latest/reference/files.html
files:
  active: ALWAYS

  artifacts:
    - path: out/{{env.PROJECT_ARTIFACT_ID}}-{{env.PROJECT_VERSION}}.jar
    - path: out/{{env.PROJECT_ARTIFACT_ID}}-{{env.PROJECT_VERSION}}-sources.jar
    - path: out/{{env.PROJECT_ARTIFACT_ID}}-{{env.PROJECT_VERSION}}-javadoc.jar
    - path: out/{{env.PROJECT_ARTIFACT_ID}}-{{env.PROJECT_VERSION}}.pom
    - path: out/{{env.PROJECT_ARTIFACT_ID}}-{{env.PROJECT_VERSION}}.module

# https://jreleaser.org/guide/latest/reference/signing.html
signing:
  active: ALWAYS
  armored: true
  mode: MEMORY
  publicKey: {{env.JRELEASER_GPG_PUBLIC_KEY}}
  secretKey: {{env.JRELEASER_GPG_SECRET_KEY}}
  passphrase: {{env.JRELEASER_GPG_PASSPHRASE}}


# https://jreleaser.org/guide/latest/reference/deploy/maven/maven-central.html
deploy:
  maven:
    mavenCentral:
      app:
        active: ALWAYS
        url: https://central.sonatype.com/api/v1/publisher
        applyMavenCentralRules: true
        stagingRepositories:
          - out
        artifactOverrides:
          - groupId: {{env.PROJECT_GROUP_ID }}
            artifactId: {{env.PROJECT_ARTIFACT_ID}}
            jar: true
            sourceJar: true
            javadocJar: true
            verifyPom: true
